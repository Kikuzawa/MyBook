
**Domain Name System** (DNS) — система доменных имён, которая хранит информацию о доменах по их именам.  
Обычно её используют для получения IP-адреса по имени хоста.

**Домен** (domain) — узел в дереве имён, вместе со всеми дочерними (подчинёнными) ему узлами.  

**Доменное имя** — символьное обозначение, зарегистрированное для сетевой адресации, в которой используется DNS. 
Доменные имена в доменах отделяются точками. Разрешённые символы в доменном имени: `a-z`, `0-9`, `-`. 

DNS имеет *древовидную* (иерархическую) структуру.

Например, система доменных имён из двух доменов `subdomain.domain.com` и `wikipedia.org` имеет вид:
![[Pasted image 20250314144734.png]]

На самом деле полный домен выглядит вот так `wikipedia.org.`, cимвол `.` в конце — **корневой домен**, `org` — домен верхнего (первого) уровня, `wikipedia` — домен второго уровня.  

**Поддомен** (subdomain) — подчинённый домен.  
`domain.com` - поддомен домена `com`, `subdomain.domain.com` - поддомен домена `domain.com`.

Сперва браузер проверяет *локальный кэш DNS*.

В случае отсутствия кэша, для поиска (lookup) браузер вызывает функцию `gethostbyname`, которая работает по-разному в зависимости от операционной системы.

Функция `gethostbyname` сперва проверяет локальный файл `hosts` (текстовый файл, содержащий базу данных доменных имён и используемый для их трансляции в IP-адреса), содержимое которого задаётся администрартором компьютера.
```css
/* файл hosts */
127.0.0.1       localhost
```

Если файл `hosts` не содержит нужного домена, делается запрос к DNS-серверу, являющемуся частью настроенного стека протоколов (network stack).

Есть два популярных DNS-сервера: `1.1.1.1` — Cloudflare, `8.8.8.8` — Google), однако большинство людей используют DNS-сервер, предоставленный интернет-провайдером.

DNS-сервер может хранить IP-адрес домена в своём кэше, если недавно уже разрешал (resolve) его.  
Если в кэше домена нет, то делается запрос к корневому DNS-сервер `.` (система из множества серверов по всему миру, управляющая интернетом).

Корневой DNS-сервер не знает IP-адреса каждого домена в мире, но может перенаправить запрос на тот DNS-сервер, который может знать — сервер верхнего уровня.



Браузер выполняет DNS-запрос по протоколу UDP, являющимся транспортным протоколом без установки соединения (connectionless).