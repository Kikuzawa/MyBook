- [Основные определения](#основные-определения)
  - [Что такое NodeJS](#что-такое-nodejs)
  - [Событийно-ориентированное программирование](#событийно-ориентированное-программирование)
- [Асинхронность в NodeJS](#асинхронность-в-nodejs)
  - [Функция обратного вызова (callback)](#функция-обратного-вызова-callback)
  - [Промиссы](#промиссы)
  - [async..await](#asyncawait)
- [Стек вызовов](#стек-вызовов)
- [Цикл событий NodeJS](#цикл-событий-nodejs)
- [Библиотека libuv в деталях](#библиотека-libuv-в-деталях)
- [Аргументы process.argv](#аргументы-processargv)

# Основные определения
- [Что такое NodeJS](#что-такое-nodejs)
- [Событийно-ориентированное программирование](#событийно-ориентированное-программирование)
 
## Что такое NodeJS

**NodeJS** — *асинхронная*, *управляемая событиями* (event-driven) *серверная среда выполнения JavaScript* (runtime environment), построенная на JavaScript-движке *V8*, который используется в *Google Chrome*.

В NodeJS используется *кроссплатформенная библиотека* `libuv`, нацеленная на *асинхронный ввод-вывод*. При помощи `libuv` выполняются операции ввода-вывода, которые считаются слишком трудоёмкими для NodeJS.

Несмотря на то, что NodeJS является *однопоточным*, он может использовать возможности нескольких ядер при помощи *дочерних процессов* из модуля `child_process` и модуля `cluster`.



## Событийно-ориентированное программирование

**Событие** (Event) — действие, сгенерированное пользователем или системой. 

Примеры событий: успешное завершение операции, ошибка, нажатие на клавишу или кнопку мыши, истечение времени таймера и так далее.
```js
/* действия пользователя */
input.onchange = event => { /* ... */ };
button.onclick = event => { /* ... */ };
/* успех и ошибки */
window.onload = event => { /* ... */ };
window.onerror = event => { /* ... */ };
```

**Событийно-ориентированное программирование** (Event-driven programming) — парадигма, в которой управление программой (flow control) определяется событиями. 

В событийно-ориентированной программе помимо событий должны присутствовать слушатели событий (event listeners), которые будут реагировать на наступление событий какими-то действиями. В контексте JavaScript — вызовами функций обратного вызова.

NodeJS предоставляет класс `EventEmitter` для создания пользовательских событий.
```js
const EventEmitter = require('events');
class MyEmitter extends EventEmitter {}
const emitter = new MyEmitter();

/* слушатель события */
emitter.on('myevent', () => console.log('myevent occurred!'));
/* генерация события */
emitter.emit('myevent');
```
Стоит отметить, что метод `EventEmitter` работает синхронно. Поэтому важно, чтобы подписка на событие `on()` находилась в коде раньше его генерации `emit()`, иначе событие не обработается.


# [[Асинхронность в NodeJS]]

# [[Стек вызовов]]


# [[Цикл событий NodeJS]]

# [[Библиотека libuv в деталях]]

# [[Аргументы process.argv]]

