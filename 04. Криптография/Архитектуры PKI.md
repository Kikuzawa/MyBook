PKI состоит из многих удостоверяющих центров и пользователей, связанных между собой разными способами, позволяющими выстроить пути доверия

Для развертывания PKI традиционно используют иерархическую или сетевую архитектуру или гибридная архитектура

### Иерархическая архитектура PKI

Главный - **корневой удостоверяющий центр**
- выпускает самоподписанный сертификат
- сертификаты для подчиненных удостоверяющих центров

Подчиненные удостоверяющие центры могут выпускать сертификаты для
- УЦ ниже в иеархии
- Пользователей

каждая доверяющая сторона знает открытый ключ подписи корневого удостоверяющего центра

Удостоверение сертификата сторонами:
- каждый сертификат в цепочке подписан при помощи открытого ключа следующего сертификата в цепочке
- срок действия сертификата не истек и сертификат не аннулирован
- каждый сертификат удовлетворяет ряду критериев, задаваемых сертификатами, расположенными выше в цепочке

#### Получения доверяющей стороной сертификатов для проверки цепочки

##### Модель с проталкиванием

отправитель передает получателю вместе со своим сертификатом все сертификаты цепочки и получатель может немедленно их проверить

##### Модель с извлечением

посылается только сертификат отправителя, а получатель сам должен извлечь сертификат удостоверяющего центра

каждый сертификат содержит имя издателя, получателю известно, где проверить сертификат

#### Преимущество

не все стороны должны автоматически доверять всем удостоверяющим центрам

доверять только корневому удостоверяющему центру

### Сетевая архитектура PKI
![[Pasted image 20241009164834.png]]

- Независимые удостоверяющие центры взаимно сертифицируют друг друга (выпускают сертификаты друг для друга)
- объединяются в пары взаимной сертификации

Доверяющая сторона знает открытый ключ ближайшего к ней удостоверяющего центра

Доверяющая сторона проверяет сертификат -> выстраивает цепочку доверия от известного ей удостоверяющего центра, которому она доверяет

#### Преимущество

компрометация одного центра в сети удостоверяющих центров не обязательно ведет к утрате доверия ко всей PKI

### Гибридная архитектура PKI
Она же «мостовая» архитектура

Введется новый удостоверяющий центр, названного **мостовым**, единственным назначением которого является **установление связей** между корпоративными PKI независимо от их архитектуры.

мостовой центр
- не выпускает сертификаты для пользователей
- не выступает в качестве узла доверия
- устанавливает отношения «равный с равным» между различными корпоративными PKI

![[Pasted image 20241009164852.png]]

Использование взаимной сертификации вместо или вместе с иерархиями сертификатов представляется более защищенным решением, чем чисто иерархическая модель


